<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1>Elektroautos sind in aller Munde.</h1>
      <h1>Lohnt sich für mich ein Elektroauto?</h1>
      <h1>Welches ist für mich das Richtige?</h1>
    </div>
  </div>

  <!--Bilderkarussell -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <ngb-carousel *ngIf="carouselAutos">
          <ng-container *ngFor="let auto of carouselAutos; let i = index">
            <ng-template ngbSlide *ngIf="i % 3 === 0">
              <ng-container *ngFor="let subIndex of [ 0, 1, 2 ]">
                <div *ngIf="carouselAutos[i+subIndex]" class="col-xs-4 img-container">
                  <a routerLink="/autos/{{carouselAutos[i+subIndex].id}}">
                    <img class="img-responsive" src="{{carouselAutos[i+subIndex].image}}">
                  </a>
                </div>
              </ng-container>
            </ng-template>
          </ng-container>
        </ngb-carousel>
      </div>
    </div>
  </div>
</div>

<p>&nbsp;</p>
<p>&nbsp;</p>


<div class="container">
  <div class="row" *ngIf="filters">
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" *ngFor="let filter of filters">
      <div ngbDropdown class="d-inline-block but">

        <select class="btn btn-secondary but" (input)="onChange(filter.id, $event.target.value)">

          <!-- Bitte auswählen Dialoge -->
          <option value="" *ngIf="filter.name == 'Preis'; else elseBlock">Bitte {{filter.name}} bis auswählen</option>
          <ng-template #elseBlock>
            <option value="">Bitte {{filter.name}} auswählen</option>
          </ng-template>

          <ng-container *ngFor="let item of filter.data">
            <!-- Inhalte für Hersteller, Erscheinungsjahr und Preis -->
            <option value="{{item.id}}" *ngIf="item.id != undefined; else other_content">
              {{item.value}}
            </option>
            <ng-template #other_content>
              <option>
                {{item}}
              </option>
            </ng-template>
          </ng-container>
        </select>

        <p>&nbsp;</p>

      </div>
    </div>
  </div>
</div>


<p>&nbsp;</p>
<p>&nbsp;</p>

<!-- Suchen Button -->
<div class="container">
  <div class="row">
    <div class="col-md-12 text-center">
      <button type="button" class="btn btn-secondary" (click)="process()">Suchen</button>
    </div>
  </div>
</div>
<p>&nbsp;</p>


<!-- Erweiterte Suche Button -->
<div class="container">
  <div class="row">
    <div class="col-md-12 text-center">
      <button type="button" routerLink="/erweitertesuche" class="btn btn-secondary">Erweiterte Suche</button>
    </div>
  </div>
</div>

<p>&nbsp;</p>
<p>&nbsp;</p>

<div *ngIf="filteredAutos">
  <app-autos [autos]="filteredAutos"></app-autos>
</div>
